(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0c47530"],{"2e8a":function(e,t,c){"use strict";c("bd40")},a15b:function(e,t,c){"use strict";var n=c("23e7"),a=c("e330"),r=c("44ad"),o=c("fc6a"),s=c("a640"),i=a([].join),l=r!=Object,u=s("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(e){return i(o(this),void 0===e?",":e)}})},bd40:function(e,t,c){},f885:function(e,t,c){"use strict";c.r(t);c("effa");var n=c("03ae"),a=(c("b0c0"),c("a4d3"),c("e01a"),c("7a23")),r=function(e){return Object(a["pushScopeId"])("data-v-384d5f28"),e=e(),Object(a["popScopeId"])(),e},o={class:"detail-container"},s={class:"detail-main"},i={class:"cover"},l={class:"cover-img"},u={class:"cover-info"},d={class:"cover-header"},b={class:"cover-title"},m={class:"cover-author-tags"},j={key:0,class:"cover-author"},O={class:"cover-name"},p={class:"cover-date"},f={key:1,class:"cover-tags"},v={class:"cover-digital"},g={class:"cover-playCount"},y=r((function(){return Object(a["createElementVNode"])("i",{class:"iconfont icon-playnum"},null,-1)})),h={class:"cover-collect"},N=r((function(){return Object(a["createElementVNode"])("i",{class:"iconfont icon-shoucangcishu-hui"},null,-1)})),V={class:"cover-comment"},k=r((function(){return Object(a["createElementVNode"])("i",{class:"iconfont icon-pinglun"},null,-1)})),E={class:"cover-desc"},w=r((function(){return Object(a["createElementVNode"])("h5",null,"歌单简介",-1)})),S=["innerHTML"],x={key:0,class:"cover-desc-all"},B={class:"song-main"},D={class:"song-header"},C=Object(a["createTextVNode"])(" 歌曲列表 "),L=r((function(){return Object(a["createElementVNode"])("i",{class:"iconfont icon-bofangquanbu"},null,-1)})),T=Object(a["createTextVNode"])(" 播放全部"),I=[L,T],R={key:0,class:"showAllSongsTips"},A={class:"aside-box"},q={key:0,class:"playlist-recom"},_=r((function(){return Object(a["createElementVNode"])("h3",{class:"aside-title"},"相关歌单推荐",-1)})),M={class:"aside-main recom-main"},z={class:"recom-info"},P={class:"recom-name"},U={class:"recom-author"},$=Object(a["createTextVNode"])(" By. "),F={key:1,class:"playlist-comment"},H=r((function(){return Object(a["createElementVNode"])("h3",{class:"aside-title"},"歌单评论",-1)})),J={class:"aside-main comment-main"},Y={class:"comment-info"},Q={class:"comment-userInfo"},X={class:"comment-date"},Z={class:"comment-desc"};function G(e,t,c,r,L,T){var G=n["a"],K=Object(a["resolveComponent"])("router-link"),W=Object(a["resolveComponent"])("SongList");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"detail",onClick:t[4]||(t[4]=Object(a["withModifiers"])((function(t){return e.isShowDesc=!1}),["stop"]))},[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",l,[Object(a["createVNode"])(G,{src:e.details.coverImgUrl,lazy:""},null,8,["src"])]),Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",b,Object(a["toDisplayString"])(e.details.name),1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.collects,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(K,{class:"collect-author",to:{path:"/artist/detail",query:{id:e.userId}},key:e.userId},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(G,{src:e.avatarUrl,lazy:""},null,8,["src"])]})),_:2},1032,["to"])})),128))]),Object(a["createElementVNode"])("div",m,[e.details.creator?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",j,[Object(a["createVNode"])(G,{class:"cover-avatar",src:e.details.creator.avatarUrl,lazy:""},null,8,["src"]),Object(a["createElementVNode"])("div",O,Object(a["toDisplayString"])(e.details.creator.nickname),1),Object(a["createElementVNode"])("div",p,Object(a["toDisplayString"])(e.$utils.formartDate(e.details.createTime,"yyyy-MM-dd")),1)])):Object(a["createCommentVNode"])("",!0),e.details.tags?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",f,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.details.tags,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(K,{to:{path:"/playlist",query:{cat:e}},class:"tag",key:t},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("#"+Object(a["toDisplayString"])(e),1)]})),_:2},1032,["to"])})),128))])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",v,[Object(a["createElementVNode"])("span",g,[y,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$utils.formartNum(e.details.playCount))+"次",1)]),Object(a["createElementVNode"])("span",h,[N,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$utils.formartNum(e.details.subscribedCount)),1)]),Object(a["createElementVNode"])("span",V,[k,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$utils.formartNum(e.details.commentCount)),1)])]),Object(a["createElementVNode"])("div",E,[w,Object(a["createElementVNode"])("p",{innerHTML:e.details.description,onClick:t[0]||(t[0]=Object(a["withModifiers"])((function(){return r.showAllDesc&&r.showAllDesc.apply(r,arguments)}),["stop"]))},null,8,S),e.isShowDesc?(Object(a["openBlock"])(),Object(a["createElementBlock"])("pre",x,Object(a["toDisplayString"])(e.details.description),1)):Object(a["createCommentVNode"])("",!0)])])]),Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("h4",null,[C,Object(a["createElementVNode"])("em",null,Object(a["toDisplayString"])(e.total+"首歌"),1)]),Object(a["createElementVNode"])("span",{class:"play-all",onClick:t[1]||(t[1]=function(){return r.playAllSongs&&r.playAllSongs.apply(r,arguments)})},I),Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["collect",e.details.subscribed?"active":""]),onClick:t[2]||(t[2]=function(t){return r.subPlayList(e.details)})},[Object(a["createElementVNode"])("i",{class:Object(a["normalizeClass"])(["iconfont","icon-shoucang1"+(e.details.subscribed?"-active":"")])},null,2),Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.details.subscribed?"已收藏":"收藏"),1)],2)]),Object(a["createVNode"])(W,{songList:e.songList,total:e.total,isScroll:!(e.total>30)},null,8,["songList","total","isScroll"]),r.isLogin?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",R,[Object(a["createElementVNode"])("span",{onClick:t[3]||(t[3]=function(){return r.loginDialog&&r.loginDialog.apply(r,arguments)})},"登录后查看全部歌曲")]))])]),Object(a["createElementVNode"])("div",A,[void 0!=e.playlists?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",q,[_,Object(a["createElementVNode"])("div",M,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.playlists,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(K,{class:"recom-item",to:{path:"/playlist/detail",query:{id:e.id}},key:e.id},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(G,{src:e.coverImgUrl,lazy:""},null,8,["src"]),Object(a["createElementVNode"])("div",z,[Object(a["createElementVNode"])("div",P,Object(a["toDisplayString"])(e.name),1),Object(a["createElementVNode"])("div",U,[$,Object(a["createVNode"])(K,{to:{path:"/my",query:{id:e.creator.userId}}},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.creator.nickname),1)]})),_:2},1032,["to"])])])]})),_:2},1032,["to"])})),128))])])):Object(a["createCommentVNode"])("",!0),void 0!=e.comments?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",F,[H,Object(a["createElementVNode"])("div",J,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.comments,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"comment-item",key:t.commentId},[Object(a["createVNode"])(K,{to:{path:"/user",query:{id:t.commentId}}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(G,{src:t.user.avatarUrl,lazy:""},null,8,["src"])]})),_:2},1032,["to"]),Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("div",Q,[Object(a["createVNode"])(K,{to:{path:"/user",query:{id:t.commentId}},class:"comment-name"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.user.nickname),1)]})),_:2},1032,["to"]),Object(a["createElementVNode"])("span",X,Object(a["toDisplayString"])(e.$utils.formatMsgTime(t.time)),1)]),Object(a["createElementVNode"])("div",Z,Object(a["toDisplayString"])(t.content),1)])])})),128))])])):Object(a["createCommentVNode"])("",!0)])])])}var K=c("5530"),W=c("1da1"),ee=(c("fb6a"),c("3ca3"),c("ddb0"),c("d81d"),c("a15b"),c("99af"),c("96cf"),c("9b9d")),te=c("6c02"),ce=c("5502"),ne=c("365c"),ae={name:"Detail",setup:function(){var e=Object(a["getCurrentInstance"])(),t=(e.proxy,Object(te["d"])()),c=Object(ce["b"])(),n=Object(a["reactive"])({id:"",details:{},isShowDesc:!1,songList:[],collects:[],playlists:[],comments:[],total:0}),r=Object(a["computed"])((function(){return c.getters.isLogin})),o=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var c,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ne["O"])(t);case 2:c=e.sent,n.details=c.playlist,r.value?(a=c.playlist.trackIds,s(a)):(n["songList"]=c.playlist.tracks,n["total"]=n["songList"].length);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var c,a,r,o,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(c=[],a=500,r=[],o=0;o<t.length;o+=a)c.push(t.slice(o,o+a));s=regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],c[t].map((function(e){n.push(e.id)})),e.next=4,Object(ne["X"])({ids:n.join(","),timestamp:(new Date).valueOf()+t});case 4:a=e.sent,r=r.concat(a.songs);case 6:case"end":return e.stop()}}),e)})),i=0;case 6:if(!(i<c.length)){e.next=11;break}return e.delegateYield(s(i),"t0",8);case 8:i++,e.next=6;break;case 11:n["songList"]=r,n["total"]=r.length;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){n.details.description.length>120&&(n.isShowDesc=!n.isShowDesc)},l=function(){c.dispatch("loginSuc",!0)},u=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ne["Q"])(t);case 2:c=e.sent,n.collects=c.subscribers;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ne["P"])(t);case 2:c=e.sent,n.playlists=c.playlists;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ne["N"])(t);case 2:c=e.sent,n.comments=c.comments;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){c.dispatch("playAll",{list:n.songList}),c.commit("SET_PLAYLISTTIPS",!0)},j=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ne["Z"])({id:t.id,t:t.subscribed?2:1});case 2:e.sent,n.details.subscribed=!n.details.subscribed;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a["onMounted"])((function(){n.id=t.query.id,O(n.id)}));var O=function(e){o(e),u(e),d(e),b(e)};return Object(te["c"])((function(e){n.songList=[],n.total=0,n.id=e.query.id,O(n.id)})),Object(K["a"])(Object(K["a"])({},Object(a["toRefs"])(n)),{},{playAllSongs:m,subPlayList:j,isLogin:r,loginDialog:l,showAllDesc:i})},components:{SongList:ee["default"]}},re=(c("2e8a"),c("6b0d")),oe=c.n(re);const se=oe()(ae,[["render",G],["__scopeId","data-v-384d5f28"]]);t["default"]=se}}]);